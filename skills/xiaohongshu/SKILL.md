---
name: xiaohongshu
description: 小红书（RedNote/XHS）浏览与信息提取。当用户需要搜索小红书笔记、查看用户主页、阅读笔记内容、查看评论/点赞/收藏等操作时使用。通过 rednote MCP 工具操作浏览器，返回页面快照供你分析和决策。
---

# 小红书浏览技能

## 概述

你可以通过 rednote MCP 提供的浏览器工具自由浏览小红书。这些工具返回页面快照（可见文本 + 链接URL + 按钮 + 输入框），由你分析内容并决定下一步操作。

## 可用工具

所有工具都通过 `rednote` MCP 调用：

| 工具 | 说明 |
|------|------|
| `search(keyword, type?)` | 搜索笔记(type="note")或用户(type="user") |
| `browse(url)` | 导航到任意URL |
| `click(target)` | 点击元素（传文本/URL/noteId/坐标） |
| `scroll(direction?, amount?)` | 滚动页面加载更多内容 |
| `snapshot()` | 获取当前页面快照 |
| `go_back()` | 浏览器后退 |
| `type_text(text, press_enter?)` | 在输入框输入文本 |
| `press_key(key)` | 按键盘按键（如 Escape 关闭弹窗） |
| `login()` | 登录（弹出二维码） |

## 核心原则

### 1. 点击 > 直接导航

小红书的反爬机制使用 xsec_token（由 JS 点击事件注入，不在 HTML href 中）。**务必通过 `click` 工具点击链接进入笔记**，而不是用 `browse` 直接访问笔记 URL。

正确流程：
```
search("咖啡推荐") → 在快照中找到目标笔记 → click("笔记标题文字")
```

错误流程：
```
browse("https://www.xiaohongshu.com/explore/6789abcdef...")  ← 可能被 xsec_token 拦截
```

### 2. 快照是你的眼睛

每个工具调用都返回页面快照。快照包含：
- **Links** 区域：所有可点击的链接及其 URL
- **Buttons** 区域：所有按钮
- **Inputs** 区域：所有输入框
- **Page Content** 区域：页面可见文本

根据快照内容决定下一步操作，不需要猜测页面结构。

### 3. 搜索用户时用 type="user"

```
search("用户名", type="user")  ← 正确，搜索用户
search("用户名")               ← 错误，会搜索关于该用户名的笔记
```

## 常见操作流程

### 搜索笔记并阅读

1. `search("关键词")` — 获取搜索结果
2. 分析快照中的笔记列表（标题、作者、点赞数）
3. `click("目标笔记的标题")` — 点击进入笔记详情
4. 从快照中提取笔记正文、评论、标签等
5. `press_key("Escape")` 或 `go_back()` — 返回列表
6. 继续浏览其他笔记

### 查看用户主页

1. `search("用户名", type="user")` — 搜索用户
2. `click("用户名")` — 点击进入用户主页
3. 从快照中提取：用户名、签名、粉丝数、关注数、获赞数
4. `scroll("down")` — 加载更多笔记
5. `click("笔记标题")` — 查看具体笔记

### 查看用户收藏

1. 进入用户主页（同上）
2. 在快照中找到"收藏"标签并 `click("收藏")`
3. 浏览收藏列表

### 查看笔记评论

1. 进入笔记详情（同上）
2. 评论通常在笔记正文下方，快照的 Page Content 中会包含
3. `scroll("down")` — 加载更多评论

## 注意事项

- **不要并行调用多个工具** — 浏览器是共享单例，有互斥锁保护，并行调用会排队
- **遇到登录弹窗** — 调用 `login()` 让用户扫码
- **页面加载慢** — 快照可能不完整，用 `snapshot()` 重新获取
- **IP风控** — 如果看到"安全限制"提示，告知用户稍后重试
- **noteId 格式** — 24位十六进制字符串，如 `6789abcdef1234567890abcd`
